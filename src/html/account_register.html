<!DOCTYPE html>
<html>
  <head>
    <title>無料で利用できるクラウド型図書管理システム CloudBib</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="https://www.cloudbib.net/css/default.css" />
    <script src="https://www.cloudbib.net/js/util.js"></script>
    <script>
      function createAccount(
        event,
        url,
        formId,
        unameId,
        emailId,
        passwordId,
        confirmPasswordId,
        minLength
      ) {
        const form = document.getElementById(formId);
        const uname = form.elements[unameId].value;
        const email = form.elements[emailId].value;
        const password = form.elements[passwordId].value;
        const confirmPassword = form.elements[confirmPasswordId].value;

        // Prevent the default form submission
        event.preventDefault();

        if (!checkPassword(uname, password, confirmPassword, minLength)) {
          return;
        }

        const data = {
          uname,
          email,
          password,
          confirm_password: confirmPassword,
        };

        // Send the POST request using fetchData
        fetchData(
          "POST",
          JSON.stringify(data),
          url,
          "アカウントを作成しました",
          null,
          {
            "Content-Type": "application/json",
          }
        );
      }
    </script>
  </head>

  <body>
    <div class="topnav">
      <a class="active" href="/">製品ホーム</a>
      <a href="/manual/">マニュアル</a>
      <a
        href="https://twitter.com/messages/compose?recipient_id=1618571454580137984"
        >問い合わせ</a
      >
    </div>

    <div style="padding-left: 6px">
      <h1>
        <font size="+3" style="color: royalblue">CloudBib</font
        ><font size="+2" style="color: royalblue"> - アカウント作成</font>
      </h1>
    </div>
    <hr />

    <form
      id="create_account_form"
      name="create_account_form"
      onsubmit="createAccount(event, '/account/add', 'create_account_form', 'uname', 'email', 'password', 'confirm_password', 8); return false;"
    >
      <div class="container">
        <div class="full-container">
          <label for="uname"><b>ユーザー名</b></label>
          <input
            type="text"
            placeholder=""
            name="uname"
            id="uname"
            pattern="[a-zA-Z0-9]+"
            required
          />
          <br />
          <font size="-1" style="color: gray"
            >半角英数、数字を使用できます。</font
          ><br />
          <br />

          <label for="email"><b>メールアドレス</b></label>
          <input
            type="email"
            placeholder=""
            name="email"
            id="email"
            required
          /><br />

          <label for="password"><b>パスワード</b></label>
          <input type="password" name="password" id="password" required />
          <br />
          <font size="-1" style="color: gray"
            >半角英数、数字、記号を組み合わせて８文字以上で入力してください。</font
          ><br />
          <br />

          <label for="password"><b>パスワード (確認用)</b></label>
          <input
            type="password"
            id="confirm_password"
            name="confirm_password"
            required
          />

          <div class="container">
            <input
              type="checkbox"
              id="terms_checkbox"
              name="terms_checkbox"
              required
            />
            <label for="terms_checkbox"
              ><a href="/terms">利用規約</a>と<a href="/privacy"
                >プライバシーポリシー</a
              >に同意してアカウントを作成します。</label
            >
          </div>

          <div class="btncontainer">
            <button type="submit" class="submitbtn">アカウントを作成</button>
          </div>
        </div>
      </div>
    </form>

    <br />
    <div class="footer">
      <a href="/terms.html" target="_blank">利用規約</a> |
      <a href="/privacy.html" target="_blank">プライバシーポリシー</a> |
      <a href="/notation.html" target="_blank">特商法表記</a>
    </div>
  </body>
</html>
