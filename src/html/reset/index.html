<!DOCTYPE html>
<html>
  <head>
    <title>図書管理システム CloudBib</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="https://www.cloudbib.net/css/default.css" />
    <script src="https://www.cloudbib.net/js/util.js"></script>
    <script
      src="https://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/4.3.0/jquery.form.min.js"
      integrity="sha384-qlmct0AOBiA2VPZkMY3+2WqkHtIQ9lSdAsAn5RUJD/3vA5MKDgSGcdmIv4ycVxyn"
      crossorigin="anonymous"
    ></script>

    <script>
      $(document).ready(function () {
        var requestResetOptions = {
          dataType: "json",
          success: processRequestReset,
        };
        $("#request_reset_form").ajaxForm(requestResetOptions);
      });

      function processRequestReset(data) {
        if (handleError(data)) {
          return;
        }
        alert("パスワードリセット用のリンクを登録メールアドレスに送信しました");
        window.location.href = "/login/";
      }
    </script>
  </head>

  <body>
    <div class="topnav">
      <a class="active" href="/">製品ホーム</a>
      <a href="/manual/">マニュアル</a>
      <a
        href="https://twitter.com/messages/compose?recipient_id=1618571454580137984"
        >問い合わせ</a
      >
      >
    </div>

    <div style="padding-left: 6px">
      <h1>
        <font size="+3" style="color: royalblue">CloudBib</font
        ><font size="+2" style="color: royalblue"> - パスワードリセット</font>
      </h1>
    </div>
    <hr />

    <form
      id="request_reset_form"
      name="request_reset_form"
      action="/account/request_reset"
      method="post"
    >
      <div class="container">
        <div class="full-container">
          パスワードをリセットするには、登録しているユーザー名とメールアドレスを入力し、「パスワードリセット」ボタンをクリックして下さい。<br /><br />
          <label for="uname"><b>ユーザー名</b></label>
          <input
            type="text"
            name="uname"
            id="uname"
            pattern="[a-zA-Z0-9]+"
            required
          />

          <label for="uname"><b>メールアドレス</b></label>
          <input type="email" name="email" id="email" required />

          <div class="btncontainer">
            <button
              type="submit"
              class="submitbtn"
              onclick="if(document.forms[0].checkValidity()){document.getElementById('user_id').removeAttribute('disabled');}"
            >
              パスワードリセット
            </button>
          </div>
          <br />
        </div>
      </div>
    </form>
  </body>
</html>
