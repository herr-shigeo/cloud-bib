<!DOCTYPE html>
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.cloudbib.net/css/default.css">
<script src="https://www.cloudbib.net/js/util.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/4.3.0/jquery.form.min.js" integrity="sha384-qlmct0AOBiA2VPZkMY3+2WqkHtIQ9lSdAsAn5RUJD/3vA5MKDgSGcdmIv4ycVxyn" crossorigin="anonymous"></script>

<script>
$(document).ready(function() { 
  var options = {
    dataType: 'json',
    success:  processJson
  };
  $('#form').ajaxForm(options);

  document.getElementById("user_admin").onchange = function() {
    document.getElementById("user_id").disabled = true;
  };

  document.getElementById("user_user").onchange = function() {
    document.getElementById("user_id").disabled = false;
  };
});

function processJson(data) {
  if (!handleError(data)) {
    window.location.href = '/home';
  }
}

</script>
</head>

<body>
  <h3><b style="color:blue"><font size ="+2">CloudBib</font></b></h3>
  <form id="form" name="form" action="/auth/login" method="post">
  <div class="full-container">
    <label for="uname"><b>ユーザー名</b></label>
    <input type="text" placeholder="" name="uname" required>
    <label for="password"><b>パスワード</b></label>
    <input type="password" placeholder="" name="password" required>
    <b>ユーザー区分</b>
    <input type="radio" name="user_category" id="user_admin" value="admin" checked=true>
    <label for="user_admin">管理者</label>
    <input type="radio" name="user_category" id="user_user" value="user">
    <label for="user_user">利用者</label>
    <label for="user_id"><b>利用者ID</b></label>
    <input type="text" name="user_id" id="user_id" disabled>
    <div class="btncontainer">
      <button type="submit" class="submitbtn">ログイン</button>
    </div>
  </div>
  </form> 
  <br/>
  <br/>
</body>
</html>
